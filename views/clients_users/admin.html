<div ng-controller="users_administrator">            
<!-- Nuevo producto-->
        <div class="panel info">
        <div class="heading">
        
        <span class="title">Nuevo usuario</span>
        </div>
        <div class="content">
        
            <div class="row flex-just-sa">
                <div class="cell-auto-size">
                <br>
                
                <img ng-src="{{user.img}}" style="
                width: auto;
                height: auto;">
                
                
                <br><br>
                </div>
                <div class="cell-auto-size">
                <br>
                <form align="center" enctype="multipart/form-data">  

                    
                    <div class="input-control file" data-role="input" ng-model="tmp.img">
                        <input type="file" placeholder="Imagen" onchange="angular.element(this).scope().photoChanged(this.files)">
                        <button class="button" ><span class="mif-folder"></span></button>

                    </div>
                    <br>
                    
                    <div class="input-control modern text iconic" id="widthfull">
                      <input type="text" placeholder="Nombre" ng-model="user.nombre">
                      <span class="label">Nombre</span>
                      <span class="icon mif-user"></span>
                    </div>
                   
                <div class="input-control modern text iconic" id="widthfull">
                  <input type="text" placeholder="Username" ng-model="user.username">
                  <span class="label">Username</span> 
                  <span class="icon mif-user"></span>
                </div>
                  <br>
                <div class="input-control modern text iconic" id="widthfull">
                  <input type="password" placeholder="*****" ng-model="user.password">
                  <span class="label">Password</span>
                  <span class="icon mif-key"></span>
                </div>

                <div class="input-control modern text iconic" id="widthfull">
                  <input type="password" placeholder="*****" ng-model="user.passwordtmp">
                  <span class="label">Confirm password</span>
                  <span class="icon mif-key"></span>
                </div>
                  <br>
                <div class="input-control modern text iconic" id="widthfull">
                  <input type="text" placeholder="Direccion" ng-model="user.direccion">
                  <span class="label">Direccion</span>
                  <span class="icon mif-location-city"></span>
                </div>
                  
                <div class="input-control modern text iconic" id="widthfull">
                  <input type="text" placeholder="Telefono" ng-model="user.telefono">
                  <span class="label">Telefono</span>
                  <span class="icon mif-phone"></span>
                </div>
                  <br>

      
                    
                    <button class="button success loading-pulse" ng-click="create()">
                    Agregar
                    </button>
                </form>
                <br>
                </div>
            </div>
        
    </div>
</div>
    <!-- Finaliza Nuevo producto-->
<!-- Crud -->
<div class="grid">
    <div class="row flex-just-sa">
    
<div class="cell-auto-size" style="width: 100%">
	
			<div class="panel success" style="border: 2px solid #fff">
                <div class="heading">
                
                <span class="title">Usuarios</span>
            
                </div>
                <div class="content">

                <form >
                	<div class="input-control text " data-role="input" style="width: 100%">
        
        		<input type="text" name="filter" ng-model="inputbox.txt" placeholder="Buscar">
        
        		<button class="button" ng-click="search()"><span class="mif-search"></span></button></div>
                </form>

    <table class="table striped hovered bordered border">
          <thead>
            <tr>
              <th>Imagen</th>
              <th>Nombre</th>
              <th>username</th>
              <th>Administrador</th>
              <th>Opciones</th>
            </tr>
          </thead>
          <tbody>
            <tr ng-repeat='a in users'>
              <td align="center"><img ng-src="{{ a.img }}" style="
                width: 80px;
                height: 80px;
                border-radius: 150px;
                -webkit-border-radius: 150px;
                -moz-border-radius: 150px;
                "></td>
              <td>{{ a.nombre }}</td> 
              <td>{{ a.username }}</td>
              <td align="center" ng-show="a.preferencias.admin"><span class="
              mif-checkmark fg-green mif-2x"></span></td> 

              <td align="center" ng-show="!a.preferencias.admin"><span class="
              mif-cross fg-red mif-2x"></span></td> 
              
              <td align="center">
              	<div class="dropdown-button">
                    <button class="button success dropdown-toggle">Opciones</button>
                        <ul class="split-content d-menu place-right" data-role="dropdown">
                            <li><a class="mif-plus" ng-click="load(a)" onclick="toggleMetroDialog('#delete')"> Eliminar</a></li>
                            
                            <li class="divider"></li>
                            
                            <li><a class="mif-search" ng-click="load(a)" onclick="toggleMetroDialog('#update')"> Actualizar</a></li>
                            
                        </ul>
                    </div>
              </td>
            </tr>
          </tbody>
        </table>
        
<div class="grid">
    <div class="row flex-just-sa">
        <div class="cell-auto-size">
        <div class='pagination'>

          <button type='button ' class='item' ng-disabled='currentPage == 0' ng-click='currentPage = 0'>Principio</button>

          <button type='button' class='item' ng-disabled='currentPage == 0' ng-click='currentPage = currentPage - 1'>&laquo;</button>
          
          <button type='button' class='item current' ng-disabled='currentPage == page.no - 1' ng-click='setPage(page.no)' ng-repeat='page in pages'>{{ page.no }}</button>
          
          <button type='button' class='item' ng-disabled='currentPage >= ingredients.length/pageSize - 1' , ng-click='currentPage = currentPage + 1'>&raquo;</button>

          <button type='button' class='item' ng-disabled='currentPage == ingredients.length/pageSize - 1' ng-click='currentPage = ingredients.length/pageSize - 1'>Final</button>
        </div>
    </div>    
    </div>
</div>

<hr>
</div></div>
</div>

</div>
</div>
<!--Ventana edit modal-->
<div data-role="dialog" id="update" class="padding30" data-type="" 
      data-close-button="true"
      data-width="auto"
      data-overlay="true">
      <img ng-src="{{ tmp.img }}" style="
                width: 80px;
                height: 80px;
                border-radius: 150px;
                -webkit-border-radius: 150px;
                -moz-border-radius: 150px;
                ">
      <form align="center">
          <div class="input-control modern text iconic" id="widthfull">
            <input type="text" placeholder="Nombre" ng-model="tmp.nombre">
            <span class="label">Nombre</span>
            <span class="icon mif-user"></span>
          </div>
        
      <div class="input-control modern text iconic" id="widthfull">
        <input type="password" placeholder="*****" ng-model="tmp.password">
        <span class="label">Password</span>
        <span class="icon mif-key"></span>
      </div>

      <div class="input-control modern text iconic" id="widthfull">
        <input type="password" placeholder="*****" ng-model="tmp.passwordtmp">
        <span class="label">Confirm password</span>
        <span class="icon mif-key"></span>
      </div>
      <br>
      <div class="input-control modern text iconic" id="widthfull">
        <input type="text" placeholder="Direccion" ng-model="tmp.direccion">
        <span class="label">Direccion</span>
        <span class="icon mif-location-city"></span>
      </div>
        
      <div class="input-control modern text iconic" id="widthfull">
        <input type="text" placeholder="Telefono" ng-model="tmp.telefono">
        <span class="label">Telefono</span>
        <span class="icon mif-phone"></span>
      </div>
        
      <div class="input-control file" data-role="input" ng-model="tmp.img">
            <input type="file" placeholder="Imagen" onchange="angular.element(this).scope().photoChangedupdate(this.files)">
            <button class="button" ><span class="mif-folder"></span></button>

        </div>
          
      <hr>
      <div class="input-control select">
	    <select ng-model="tmp.preferencias.color_menubar" style="text-align: center; text-align-last: center;">
	        <option value="">---Color menu bar---</option>
	        <option value="darcula">Darcula</option>
	        <option value="indigo">Indigo</option>
	        <option value="blue">Blue</option>
	        <option value="pink">Pink</option>
	        <option value="green">Green</option>
	        <option value="red">Red</option>
	        <option value="orange">Orange</option>
	    </select>
	    </div>
      <br><br>
		<label class="switch-original">
			<input type="checkbox" ng-model="tmp.preferencias.admin">Administrador
			<span class="check"></span>
		</label>
		
		<label class="switch-original">
			<input type="checkbox" ng-model="tmp.preferencias.ingredientes">Gestion ingredientes
			<span class="check"></span>
		</label>
		
		<label class="switch-original">
			<input type="checkbox" ng-model="tmp.preferencias.recetas">Gestion recetas
			<span class="check"></span>
		</label>
		
		<label class="switch-original">
			<input type="checkbox" ng-model="tmp.preferencias.products">Gestion productos
			<span class="check"></span>
		</label>
		
		<label class="switch-original">
			<input type="checkbox" ng-model="tmp.preferencias.clientes">Gestion clientes
			<span class="check"></span>
		</label>
		<br><br>
      
        <button class="button success" ng-click="update()" onclick="hideMetroDialog('#update')"><span class="mif-floppy-disk"></span> Guardar</button>

      <button class="button info" onclick="hideMetroDialog('#update')"><span class="mif-checkmark"></span> Cancelar</button>
      
      </form>    
    <br>
        
<!--Ventana edit modal-->        
<div data-role="dialog" id="delete" class="padding30" data-type="" 
    data-close-button="true"
    data-width="auto"
    data-overlay="true">

        <p>
        <font face="Segoe UI Bold">
            <h4>ELIMINAR USUARIO: {{ tmp.username.toUpperCase() }} ?</h4>
        </font>
            
        </p>

        <button class="button alert" ng-click="delete()" onclick="hideMetroDialog('#delete')">SI</button>
        <button class="button success" onclick="hideMetroDialog('#delete')">NO</button>
</div>


</div>